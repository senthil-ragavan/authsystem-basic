<%# app/views/authentication/new.html.erb %>

<%# Flash messages %>
<% if flash[:alert] || flash[:notice] %>
  <div style="margin-bottom:1rem;padding:.75rem 1rem;border:1px solid #ddd;border-radius:.5rem;">
    <%= flash[:alert] || flash[:notice] %>
  </div>
<% end %>

<div style="max-width:420px;margin:2rem auto;padding:2rem;border:1px solid #eee;border-radius:1rem;box-shadow:0 2px 8px rgba(0,0,0,.04);font-family:system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;">
  <h1 style="margin:0 0 1rem;font-size:1.25rem;">Log in</h1>

  <%= form_with url: authentication_path, method: :post, local: true do %>
    <div style="margin-bottom:.75rem;">
      <label for="username" style="display:block;margin-bottom:.25rem;font-weight:600;">Username</label>
      <%= text_field_tag :username, params[:username],
            id: "username",
            required: true,
            autofocus: true,
            style: "width:100%;padding:.6rem .7rem;border:1px solid #ddd;border-radius:.6rem;" %>
    </div>

    <div style="margin-bottom:1rem;">
      <label for="password" style="display:block;margin-bottom:.25rem;font-weight:600;">Password</label>
      <%= password_field_tag :password, nil,
            id: "password",
            required: true,
            style: "width:100%;padding:.6rem .7rem;border:1px solid #ddd;border-radius:.6rem;" %>
    </div>

    <div>
      <%= submit_tag "Log in",
            style: "width:100%;padding:.7rem 1rem;border:0;border-radius:.6rem;background:#111;color:#fff;font-weight:600;cursor:pointer;" %>
    </div>
  <% end %>

  <div style="display:flex;align-items:center;gap:.75rem;margin:1rem 0;">
    <hr style="flex:1;border:none;border-top:1px solid #eee;">
    <span style="font-size:.9rem;color:#666;">or</span>
    <hr style="flex:1;border:none;border-top:1px solid #eee;">
  </div>

  <%= button_to "/auth/google_oauth2",
      method: :post,
      form: { data: { turbo: false } },
      class: "google-btn" do %>
        <!-- svg logo -->
        <svg width="18" height="18" viewBox="0 0 48 48" aria-hidden="true"> ... </svg>
        <span>Sign in with Google</span>
    <% end %>


  <p style="margin-top:.75rem;font-size:.85rem;color:#666;">
    By continuing, you agree to our Terms &amp; Privacy Policy.
  </p>
</div>
